<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Doc ApiPets</title>
    <link rel="stylesheet" href="../styles/global.css">
    <link rel="stylesheet" href="../styles/docMJC.css">
</head>
<body>
    <div class="container">
        <div class="header">
            <button class="icon-back" onclick="backLogin()">
              <img src="../assets/icons/btn-back.svg" alt="reportes" />
            </button>
            
          <h1 class="title">DOC apiPets</h1>
        </div>

        <div class="container-doc"> 
            <h2>1. Autenticación de Usuarios</h2>
            <h3>URL BASE = "(servidor)/api"</h3>
            <table>
                <tr>
                    <td>Número</td>
                    <td>1</td>
                </tr>
                <tr>
                    <td>Nombre</td>
                    <td>Login Usuarios</td>
                </tr>
                <tr>
                    <td>Descripción</td>
                    <td>Permite autenticar a un usuario con credenciales válidas y devuelve un token JWT.</td>
                </tr>
                <tr>
                    <td>URI</td>
                    <td><code>/login</code></td>
                </tr>
                <tr>
                    <td>Verbo HTTP</td>
                    <td>POST</td>
                </tr>
                <tr>
                    <td>Header</td>
                    <td>
                        <strong>Content-Type:</strong> application/json
                    </td>
                </tr>
                <tr>
                    <td>Request</td>
                    <td>
                        <pre>{ "email": "usuario@ejemplo.com", "password": "claveSecreta" }</pre>
                    </td>
                </tr>
                <tr>
                    <td>Response</td>
                    <td>
                        <strong>Correcto:</strong><br>
                        Status: 200<br>
                        Body: <pre>{ "message": "login exitoso", "data": "eyJhbGciOiJIUzI1NiIs..." }</pre><br>
                        <strong>Usuario no encontrado:</strong><br>
                        Status: 404<br>
                        Body: <pre>{ "message": "usuario no encontrado" }</pre><br>
                        <strong>Contraseña incorrecta:</strong><br>
                        Status: 400<br>
                        Body: <pre>{ "message": "contraseña incorrecta" }</pre><br>
                        <strong>Error del sistema:</strong><br>
                        Status: 500<br>
                        Body: <pre>{ "msg": "error" }</pre>
                    </td>
                </tr>
            </table>

            <h2>2. Gestión de Usuarios</h2>

            <h3>2.1. Listar Usuarios</h3>
            <table>
                <tr>
                    <td>Número</td>
                    <td>2.1</td>
                </tr>
                <tr>
                    <td>Nombre</td>
                    <td>Listar Usuarios</td>
                </tr>
                <tr>
                    <td>Descripción</td>
                    <td>Obtiene una lista de todos los usuarios registrados. Requiere autenticación.</td>
                </tr>
                <tr>
                    <td>URI</td>
                    <td><code>/users</code></td>
                </tr>
                <tr>
                    <td>Verbo HTTP</td>
                    <td>GET</td>
                </tr>
                <tr>
                    <td>Header</td>
                    <td>
                        <strong>Authorization:</strong> Bearer (Token)
                    </td>
                </tr>
                <tr>
                    <td>Response</td>
                    <td>
                        <strong>Correcto (con usuarios):</strong><br>
                        Status: 200<br>
                        Body: <pre>{ "message": "lista de usuarios", "data": [ { "idUserMJC": 1, "fullnameMJC": "Nombre Completo", "email": "usuario@ejemplo.com", "password": "..." }, ... ] }</pre><br>
                        <strong>Correcto (sin usuarios):</strong><br>
                        Status: 404<br>
                        Body: <pre>{ "message": "lista no hay usuarios registrados" }</pre><br>
                        <strong>Error del sistema:</strong><br>
                        Status: 500<br>
                        Body: <pre>{ "message": "error" }</pre>
                    </td>
                </tr>
            </table>

            <h3>2.2. Registrar Nuevo Usuario</h3>
            <table>
                <tr>
                    <td>Número</td>
                    <td>2.2</td>
                </tr>
                <tr>
                    <td>Nombre</td>
                    <td>Registrar Usuario</td>
                </tr>
                <tr>
                    <td>Descripción</td>
                    <td>Permite registrar un nuevo usuario en el sistema.</td>
                </tr>
                <tr>
                    <td>URI</td>
                    <td><code>/users</code></td>
                </tr>
                <tr>
                    <td>Verbo HTTP</td>
                    <td>POST</td>
                </tr>
                <tr>
                    <td>Header</td>
                    <td>
                        <strong>Content-Type:</strong> application/json
                    </td>
                </tr>
                <tr>
                    <td>Request</td>
                    <td>
                        <pre>{ "name": "Nuevo Usuario", "email": "nuevo@ejemplo.com", "password": "nuevaClave" }</pre>
                    </td>
                </tr>
                <tr>
                    <td>Response</td>
                    <td>
                        <strong>Correcto:</strong><br>
                        Status: 201<br>
                        Body: <pre>{ "message": "nuevo ususario registrado con exito", "data": { "idUserMJC": 2, "fullnameMJC": "Nuevo Usuario", "email": "nuevo@ejemplo.com", "password": "..." } }</pre><br>
                        <strong>Error en la solicitud:</strong><br>
                        Status: 400<br>
                        Body: <pre>{ "message": "no fue posible registrar nuevo usuario" }</pre><br>
                        <strong>Error del sistema:</strong><br>
                        Status: 500<br>
                        Body: <pre>{ "message": "error" }</pre>
                    </td>
                </tr>
            </table>

            <h2>3. Gestión de Razas</h2>
            <h3>3.1 listar razas</h3>
            <table>
                <tr>
                    <td>Número</td>
                    <td>3.1</td>
                </tr>
                <tr>
                    <td>Nombre</td>
                    <td>Listar Razas</td>
                </tr>
                <tr>
                    <td>Descripción</td>
                    <td>Obtiene una lista de todas las razas de mascotas registradas. Requiere autenticación.</td>
                </tr>
                <tr>
                    <td>URI</td>
                    <td><code>/races</code></td>
                </tr>
                <tr>
                    <td>Verbo HTTP</td>
                    <td>GET</td>
                </tr>
                <tr>
                    <td>Header</td>
                    <td>
                        <strong>Authorization:</strong> Bearer (Token)
                    </td>
                </tr>
                <tr>
                    <td>Response</td>
                    <td>
                        <strong>Correcto (con razas):</strong><br>
                        Status: 200<br>
                        Body: <pre>{ "message": "lista de razas", "data": [ { "id_RacesMJC": 1, "name_RacesMJC": "Labrador" }, { "id_RacesMJC": 2, "name_RacesMJC": "Bulldog" }, ... ] }</pre><br>
                        <strong>Correcto (sin razas):</strong><br>
                        Status: 404<br>
                        Body: <pre>{ "message": "razas no encontradas" }</pre><br>
                        <strong>Error del sistema:</strong><br>
                        Status: 500<br>
                        Body: <pre>{ "message": "error" }</pre>
                    </td>
                </tr>
            </table>

            <h3>3.2 Registrar Razas</h3>
            <table>
                <tr>
                    <td>Número</td>
                    <td>3.2</td>
                </tr>
                <tr>
                    <td>Nombre</td>
                    <td>Registrar Raza</td>
                </tr>
                <tr>
                    <td>Descripción</td>
                    <td>Permite registrar una nueva raza de mascota. Requiere autenticación.</td>
                </tr>
                <tr>
                    <td>URI</td>
                    <td><code>/races</code></td>
                </tr>
                <tr>
                    <td>Verbo HTTP</td>
                    <td>POST</td>
                </tr>
                <tr>
                    <td>Header</td>
                    <td>
                        <strong>Content-Type:</strong> application/json<br>
                        <strong>Authorization:</strong> Bearer (Token)
                    </td>
                </tr>
                <tr>
                    <td>Request</td>
                    <td>
                        <pre>{ "name": "Pastor Alemán" }</pre>
                    </td>
                </tr>
                <tr>
                    <td>Response</td>
                    <td>
                        <strong>Correcto:</strong><br>
                        Status: 201<br>
                        Body: <pre>{ "message": "nueva raza registrada con exito", "data": { "id_RacesMJC": 3, "name_RacesMJC": "Pastor Alemán" } }</pre><br>
                        <strong>Error en la solicitud:</strong><br>
                        Status: 400<br>
                        Body: <pre>{ "message": "no fue posible registrar nueva raza" }</pre><br>
                        <strong>Error del sistema:</strong><br>
                        Status: 500<br>
                        Body: <pre>{ "message": "error" }</pre>
                    </td>
                </tr>
            </table>

            <h3>3.3 editar Razas</h3>
            <table>
                <tr>
                    <td>Número</td>
                    <td>4.3</td>
                </tr>
                <tr>
                    <td>Nombre</td>
                    <td>Editar Raza</td>
                </tr>
                <tr>
                    <td>Descripción</td>
                    <td>Permite editar el nombre de una raza existente. Requiere autenticación.</td>
                </tr>
                <tr>
                    <td>URI</td>
                    <td><code>/races/:id</code> (Reemplazar :id con el ID de la raza)</td>
                </tr>
                <tr>
                    <td>Verbo HTTP</td>
                    <td>PATCH</td>
                </tr>
                <tr>
                    <td>Header</td>
                    <td>
                        <strong>Content-Type:</strong> application/json<br>
                        <strong>Authorization:</strong> Bearer (Token)
                    </td>
                </tr>
                <tr>
                    <td>Request</td>
                    <td>
                        <pre>{ "name": "Golden Retriever" }</pre>
                    </td>
                </tr>
                <tr>
                    <td>Response</td>
                    <td>
                        <strong>Correcto:</strong><br>
                        Status: 200<br>
                        Body: <pre>{ "message": "editado con exito", "data": { "id_RacesMJC": 1, "name_RacesMJC": "Golden Retriever" } }</pre><br>
                        <strong>No encontrado:</strong><br>
                        Status: 400<br>
                        Body: <pre>{ "message": "no fue posible editar" }</pre><br>
                        <strong>Error del sistema:</strong><br>
                        Status: 500<br>
                        Body: <pre>{ "message": "error" }</pre>
                    </td>
                </tr>
            </table>

            <h2>4. Gestión de Géneros</h2>

            <h3>4.1. Listar Géneros</h3>
            <table>
                <tr>
                    <td>Número</td>
                    <td>4.1</td>
                </tr>
                <tr>
                    <td>Nombre</td>
                    <td>Listar Géneros</td>
                </tr>
                <tr>
                    <td>Descripción</td>
                    <td>Obtiene una lista de todos los géneros de mascotas registrados. Requiere autenticación.</td>
                </tr>
                <tr>
                    <td>URI</td>
                    <td><code>/genders</code></td>
                </tr>
                <tr>
                    <td>Verbo HTTP</td>
                    <td>GET</td>
                </tr>
                <tr>
                    <td>Header</td>
                    <td>
                        <strong>Authorization:</strong> Bearer (Token)
                    </td>
                </tr>
                <tr>
                    <td>Response</td>
                    <td>
                        <strong>Correcto (con géneros):</strong><br>
                        Status: 200<br>
                        Body: <pre>{ "message": "lista de generos", "data": [ { "id_GendersMJC": 1, "name_GendersMJC": "Macho" }, { "id_GendersMJC": 2, "name_GendersMJC": "Hembra" }, ... ] }</pre><br>
                        <strong>Correcto (sin géneros):</strong><br>
                        Status: 404<br>
                        Body: <pre>{ "message": "lista de generos no encontrada" }</pre><br>
                        <strong>Error del sistema:</strong><br>
                        Status: 500<br>
                        Body: <pre>{ "message": "error" }</pre>
                    </td>
                </tr>
            </table>

            <h2>5. Gestión de Categorías</h2>

            <h3>5.1. Listar Categorías</h3>
            <table>
                <tr>
                    <td>Número</td>
                    <td>5.1</td>
                </tr>
                <tr>
                    <td>Nombre</td>
                    <td>Listar Categorías</td>
                </tr>
                <tr>
                    <td>Descripción</td>
                    <td>Obtiene una lista de todas las categorías de mascotas registradas. Requiere autenticación.</td>
                </tr>
                <tr>
                    <td>URI</td>
                    <td><code>/category</code></td>
                </tr>
                <tr>
                    <td>Verbo HTTP</td>
                    <td>GET</td>
                </tr>
                <tr>
                    <td>Header</td>
                    <td>
                        <strong>Authorization:</strong> Bearer (Token)
                    </td>
                </tr>
                <tr>
                    <td>Response</td>
                    <td>
                        <strong>Correcto (con categorías):</strong><br>
                        Status: 200<br>
                        Body: <pre>{ "message": "lista de categorias", "data": [ { "id_CategoriesMJC": 1, "name_CategoriesMJC": "Perro" }, { "id_CategoriesMJC": 2, "name_CategoriesMJC": "Gato" }, ... ] }</pre><br>
                        <strong>Correcto (sin categorías):</strong><br>
                        Status: 404<br>
                        Body: <pre>{ "message": "lista de categorias no encontrada" }</pre><br>
                        <strong>Error del sistema:</strong><br>
                        Status: 500<br>
                        Body: <pre>{ "message": "error" }</pre>
                    </td>
                </tr>
            </table>

            <h2>6. Gestión de Mascotas</h2>

            <h3>6.1. Listar Mascotas</h3>
            <table>
                <tr>
                    <td>Número</td>
                    <td>6.1</td>
                </tr>
                <tr>
                    <td>Nombre</td>
                    <td>Listar Mascotas</td>
                </tr>
                <tr>
                    <td>Descripción</td>
                    <td>Obtiene una lista de todas las mascotas registradas, incluyendo su raza. Requiere autenticación.</td>
                </tr>
                <tr>
                    <td>URI</td>
                    <td><code>/pets</code></td>
                </tr>
                <tr>
                    <td>Verbo HTTP</td>
                    <td>GET</td>
                </tr>
                <tr>
                    <td>Header</td>
                    <td>
                        <strong>Authorization:</strong> Bearer (Token)
                    </td>
                </tr>
                <tr>
                    <td>Response</td>
                    <td>
                        <strong>Correcto (con mascotas):</strong><br>
                        Status: 200<br>
                        Body: <pre>{ "lista de mascotas": [ { "id_PetMJC": 1, "name_PetsMJC": "Firulais", "photoMJC": "/pets-photos/imagen1.jpg", "estadoMJC": "disponible", "fk_RacesMJC": 1, "fk_CategoriesMJC": 1, "fk_GendersMJC": 1, "races": { "name_RacesMJC": "Labrador" } }, ... ] }</pre><br>
                        <strong>Correcto (sin mascotas):</strong><br>
                        Status: 404<br>
                        Body: <pre>{ "message": "no se encontraron mascotas" }</pre><br>
                        <strong>Error del sistema:</strong><br>
                        Status: 500<br>
                        Body: <pre>{ "message": "error" }</pre>
                    </td>
                </tr>
            </table>

            <h3>6.2. Registrar Nueva Mascota</h3>
            <table>
                <tr>
                    <td>Número</td>
                    <td>6.2</td>
                </tr>
                <tr>
                    <td>Nombre</td>
                    <td>Registrar Mascota</td>
                </tr>
                <tr>
                    <td>Descripción</td>
                    <td>Permite registrar una nueva mascota en el sistema. Requiere autenticación y una imagen.</td>
                </tr>
                <tr>
                    <td>URI</td>
                    <td><code>/pets</code></td>
                </tr>
                <tr>
                    <td>Verbo HTTP</td>
                    <td>POST</td>
                </tr>
                <tr>
                    <td>Header</td>
                    <td>
                        <strong>Content-Type:</strong> multipart/form-data<br>
                        <strong>Authorization:</strong> Bearer (Token)
                    </td>
                </tr>
                <tr>
                    <td>Request (FormData)</td>
                    <td>
                        <ul>
                            <li><strong>name:</strong> (String) Nombre de la mascota</li>
                            <li><strong>race:</strong> (Integer) ID de la raza</li>
                            <li><strong>category:</strong> (Integer) ID de la categoría</li>
                            <li><strong>gender:</strong> (Integer) ID del género</li>
                            <li><strong>photo:</strong> (File) Archivo de la imagen de la mascota</li>
                        </ul>
                    </td>
                </tr>
                <tr>
                    <td>Response</td>
                    <td>
                        <strong>Correcto:</strong><br>
                        Status: 201<br>
                        Body: <pre>{ "message": "nueva mascota registrada con exito", "data": { "id_PetMJC": 2, "name_PetsMJC": "Pelusa", "photoMJC": "/pets-photos/imagen2.jpg", "estadoMJC": "disponible", "fk_RacesMJC": 2, "fk_CategoriesMJC": 2, "fk_GendersMJC": 2 } }</pre><br>
                        <strong>Imagen requerida:</strong><br>
                        Status: 400<br>
                        Body: <pre>{ "message": "Se requiere una imagen de la mascota" }</pre><br>
                        <strong>Error en la solicitud:</strong><br>
                        Status: 400<br>
                        Body: <pre>{ "message": "no fue posible registrar nueva mascota" }</pre><br>
                        <strong>Error del sistema:</strong><br>
                        Status: 500<br>
                        Body: <pre>{ "message": "error" }</pre>
                    </td>
                </tr>
            </table>

            <h3>6.3. Editar Mascota</h3>
            <table>
                <tr>
                    <td>Número</td>
                    <td>6.3</td>
                </tr>
                <tr>
                    <td>Nombre</td>
                    <td>Editar Mascota</td>
                </tr>
                <tr>
                    <td>Descripción</td>
                    <td>Permite editar la información de una mascota existente. Requiere autenticación. Opcionalmente puede actualizar la imagen.</td>
                </tr>
                <tr>
                    <td>URI</td>
                    <td><code>/pets/:id</code> (Reemplazar :id con el ID de la mascota)</td>
                </tr>
                <tr>
                    <td>Verbo HTTP</td>
                    <td>PATCH</td>
                </tr>
                <tr>
                    <td>Header</td>
                    <td>
                        <strong>Content-Type:</strong> multipart/form-data (para actualizar la imagen) o application/json (para otros campos)<br>
                        <strong>Authorization:</strong> Bearer (Token)
                    </td>
                </tr>
                <tr>
                    <td>Request (FormData o JSON)</td>
                    <td>
                        FormData (opcional para la imagen):
                        <ul>
                            <li><strong>name:</strong> (String) Nuevo nombre (opcional)</li>
                            <li><strong>race:</strong> (Integer) Nuevo ID de raza (opcional)</li>
                            <li><strong>category:</strong> (Integer) Nuevo ID de categoría (opcional)</li>
                            <li><strong>gender:</strong> (Integer) Nuevo ID de género (opcional)</li>
                            <li><strong>photo:</strong> (File) Nueva imagen (opcional)</li>
                        </ul>
                        <br>
                        JSON (para otros campos):
                        <pre>{ "name": "Nuevo Nombre", "race": 3 }</pre>
                    </td>
                </tr>
                <tr>
                    <td>Response</td>
                    <td>
                        <strong>Correcto:</strong><br>
                        Status: 200<br>
                        Body: <pre>{ "message": "editado con exito", "data": { "id_PetMJC": 1, "name_PetsMJC": "Nuevo Nombre", "photoMJC": "/pets-photos/nueva_imagen.jpg", "estadoMJC": "disponible", "fk_RacesMJC": 3, "fk_CategoriesMJC": 1, "fk_GendersMJC": 1 } }</pre><br>
                        <strong>Error en la solicitud:</strong><br>
                        Status: 400<br>
                        Body: <pre>{ "message": "no fue posible editar" }</pre><br>
                        <strong>Error del sistema:</strong><br>
                        Status: 500<br>
                        Body: <pre>{ "message": "error" }</pre>
                    </td>
                </tr>
            </table>

            <h3>6.4. Eliminar Mascota</h3>
            <table>
                <tr>
                    <td>Número</td>
                    <td>6.4</td>
                </tr>
                <tr>
                    <td>Nombre</td>
                    <td>Eliminar Mascota</td>
                </tr>
                <tr>
                    <td>Descripción</td>
                    <td>Elimina una mascota específica del sistema. Requiere autenticación.</td>
                </tr>
                <tr>
                    <td>URI</td>
                    <td><code>/pets/:id</code> (Reemplazar :id con el ID de la mascota)</td>
                </tr>
                <tr>
                    <td>Verbo HTTP</td>
                    <td>DELETE</td>
                </tr>
                <tr>
                    <td>Header</td>
                    <td>
                        <strong>Authorization:</strong> Bearer (Token)
                    </td>
                </tr>
                <tr>
                    <td>Response</td>
                    <td>
                        <strong>Correcto:</strong><br>
                        Status: 200<br>
                        Body: <pre>{ "message": "mascota eliminada con éxito", "data": { "id_PetMJC": 1, "name_PetsMJC": "Firulais", "photoMJC": "/pets-photos/imagen1.jpg", "estadoMJC": "disponible", "fk_RacesMJC": 1, "fk_CategoriesMJC": 1, "fk_GendersMJC": 1 } }</pre><br>
                        <strong>No encontrado:</strong><br>
                        Status: 404<br>
                        Body: <pre>{ "message": "no fue posible eliminar con exito" }</pre><br>
                        <strong>Error del sistema:</strong><br>
                        Status: 500<br>
                        Body: <pre>{ "message": "sistema" }</pre>
                    </td>
                </tr>
            </table>

            <h3>6.5. Obtener Detalles de Mascota por ID</h3>
            <table>
                <tr>
                    <td>Número</td>
                    <td>6.5</td>
                </tr>
                <tr>
                    <td>Nombre</td>
                    <td>Obtener Mascota por ID</td>
                </tr>
                <tr>
                    <td>Descripción</td>
                    <td>Obtiene los detalles de una mascota específica, incluyendo su raza, género y categoría. Requiere autenticación.</td>
                </tr>
                <tr>
                    <td>URI</td>
                    <td><code>/pets/:id</code> (Reemplazar :id con el ID de la mascota)</td>
                </tr>
                <tr>
                    <td>Verbo HTTP</td>
                    <td>GET</td>
                </tr>
                <tr>
                    <td>Header</td>
                    <td>
                        <strong>Authorization:</strong> Bearer (Token)
                    </td>
                </tr>
                <tr>
                    <td>Response</td>
                    <td>
                        <strong>Correcto:</strong><br>
                        Status: 200<br>
                        Body: <pre>{ "id_PetMJC": 1, "name_PetsMJC": "Firulais", "photoMJC": "/pets-photos/imagen1.jpg", "estadoMJC": "disponible", "fk_RacesMJC": 1, "fk_CategoriesMJC": 1, "fk_GendersMJC": 1, "races": { "name_RacesMJC": "Labrador" }, "Genders": { "name_GendersMJC": "Macho" }, "categories": { "name_CategoriesMJC": "Perro" } }</pre><br>
                        <strong>No encontrado:</strong><br>
                        Status: 400<br>
                        Body: <pre>{ "message": "no fue posible encontrar esta mascota" }</pre><br>
                        <strong>Error del sistema:</strong><br>
                        Status: 500<br>
                        Body: <pre>{ "message": "sistema" }</pre>
                    </td>
                </tr>
            </table>
        </div>
    </div>
    <script src="../scripts/docMJC.js"></script>
</body>
</html>